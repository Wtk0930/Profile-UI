<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Tengkai Wang's Page</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./styles/base.css" />

    <style>
        body{
            position: absolute;
            left:0;
            right:0;
            top: 0;
            bottom: 0;
            background-color: black;
        }

        main{
            display: flex;
            flex-direction: column;
            align-items: end;
        }

        .gap{
            height: 5vh;
        }

    </style>
</head>

<body>
    <header>
        <div w3-include-html="./components/navbar.html"></div>
    </header>
    
    <personal-name>
        Tengkai &nbsp;Wang
    </personal-name>

    <main>
        
        
        <div w3-include-html="./components/personal-card.html"></div>
        <div class="gap">
        </div>
        <info-card>
            # Research Interests
                
            this is a test text this is a test textthis is a test textthis is a test textthis is a test textthis is a test textthis is a test textthis is a test textthis is a test textthis is a test textthis is a test textthis is a test text
            
            * machine learning
        </info-card>
       
    </main>


    <footer>
        <h3>Here is the footer part</h3>
    </footer>

    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <script type="module" src="./components/personal-name.js"></script>
    <script type="module" src="./components/info-card.js"></script>
    <script>

        function loadAndExecuteScripts() {
            // 获取所有通过 w3-include-html 引入的元素
            const includedElements = document.querySelectorAll('[is-component]');

            includedElements.forEach((element, index) => {
                // 查找元素内的所有脚本标签
                const scripts = element.getElementsByTagName('script');

                Array.from(scripts).forEach((script, scriptIndex) => {
                    const newScript = document.createElement('script');

                    // 如果脚本有 src 属性，复制它
                    if (script.src) {
                        newScript.src = script.src;
                    } else {
                        // 否则，复制内联脚本的内容
                        newScript.textContent = script.textContent;
                    }

                    // 将新脚本附加到文档中，这将导致它被执行
                    document.body.appendChild(newScript);

                    // 从原始位置移除旧脚本
                    script.parentNode.removeChild(script);
                });
            });
        }


        w3.includeHTML(function () {
                // 在 includeHTML 完成后执行脚本加载函数
                loadAndExecuteScripts();
        });

    </script>
</body>

</html>